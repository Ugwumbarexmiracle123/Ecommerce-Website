<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      src="https://kit.fontawesome.com/dc8ee980c4.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="/cart.css" />
  </head>
  <body>
    <section id="header">
      <div>
         <a href="#"><img src="https://27b67461b6f5b0ef0f7f-4ed8056a596c81d3dd354ce52d883b92.ssl.cf3.rackcdn.com/x.dev/x/images/products/uploads/Rex_Logo_RGB_Primary.png" class="logo" alt=""></a>
       </div>

       <div>
           <ul id="navbar">
             <li><a href="/">Home</a></li>
             <li><a href="/product">Product</a></li>
             <li><a href="/about">About</a></li>
             <li id="lg-cart" class="active"><a href="/cart"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
               <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
             </svg></a></li>
             <li><a href="/sign_in">Login</a></li>
             <li><a href="/contact">Contact Us</a></li>
             <li><a href="/register">Sign up</a></li>
             <a href="#" id="close"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16" color="1a1a1a">
               <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
             </svg></a>
           </ul>
       </div>
       <div id="mobile">
         <a href="/cart"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16" color="black">
           <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
         </svg></a>
         <i id="bar" class="fas fa-outdent"></i>
       </div>
   </section>

  <section id="cart">
    <table width="100%">
      <thead>
        <tr>
          <td>Remove</td>
          <td>Images</td>
          <td>product</td>
          <td>Price</td>
          <td>Quantity</td>
          <td>Subtotal</td>
        </tr>
      </thead>
      <tbody>
        <% if (cart !== null) { %>
          <% for (let i = 0; i < uniqueItems.length; i++) { %> <% const product
            = itemInfo[uniqueItems[i]] %>
            <tr>
              <td><a href="#"><i class="far fa-times-circle"></i></a></td>
              <td><img src="<%= product.image %>"></td>
              <td><%= product.name %></td>
              <td>$<%= product.price %></td>
              <td><input type="number" value="1"><%= quantity[uniqueItems[i]] %></td>
              <td>$<%= product.price %></td>
            </tr>
          <% } %>
        <% } %>
      </tbody>
    </table>
  </section>
  <div class="invoice">
    <h3>Invoice</h3>
    <% if (cart !== null){ %>
      <table>
        <tr>
          <td>Customer Name</td>
          <td><%= userInfo.name %></td>
        </tr>
        <tr>
          <td>No of Items</td>
          <td><%= Object.values(quantity).reduce((a, b) => a + b)%></td>   
        </tr>
        <tr>
          <td>Amount</td>
          <td>$<%= uniqueItems.map(item => quantity[item] *itemInfo[item].price).reduce((a, b) => a + b) %></td>    
        </tr>
        <tr>
          <td>Tax</td>
          <td>$<%= .075 * uniqueItems.map(item => quantity[item] * itemInfo[item].price).reduce((a, b) => a + b) %></td>     
        </tr>
        <tr>
          <td>Total</td>
          <td>$<%= 1.075 * uniqueItems.map(item => quantity[item] *itemInfo[item].price).reduce((a, b) => a + b) %></td>
        </tr>
        <button class="checkout btn btn-outline-primary">Checkout</button>
      </table>
    <% } %>
  </div>

  </body>
</html>
